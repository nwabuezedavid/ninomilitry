<!-- Pagination (at the end of the blog_list.html template) -->
{% if posts.paginator.num_pages > 1 %}
    <div class="flex justify-center mt-8">
        <nav class="inline-flex rounded-md shadow">
            {% if posts.has_previous %}
                <a href="?{% if query %}q={{ query }}&{% endif %}page={{ posts.previous_page_number }}" 
                   class="py-2 px-4 bg-white border border-gray-300 rounded-l-md text-gray-700 hover:bg-gray-50">
                    Previous
                </a>
            {% else %}
                <span class="py-2 px-4 bg-gray-100 border border-gray-300 rounded-l-md text-gray-400 cursor-not-allowed">
                    Previous
                </span>
            {% endif %}
            
            {% for num in posts.paginator.page_range %}
                {% if posts.number == num %}
                    <span class="py-2 px-4 bg-blue-600 border border-blue-600 text-white font-medium">
                        {{ num }}
                    </span>
                {% elif num > posts.number|add:'-3' and num < posts.number|add:'3' %}
                    <a href="?{% if query %}q={{ query }}&{% endif %}page={{ num }}" 
                       class="py-2 px-4 bg-white border border-gray-300 text-gray-700 hover:bg-gray-50">
                        {{ num }}
                    </a>
                {% endif %}
            {% endfor %}
            
            {% if posts.has_next %}
                <a href="?{% if query %}q={{ query }}&{% endif %}page={{ posts.next_page_number }}" 
                   class="py-2 px-4 bg-white border border-gray-300 rounded-r-md text-gray-700 hover:bg-gray-50">
                    Next
                </a>
            {% else %}
                <span class="py-2 px-4 bg-gray-100 border border-gray-300 rounded-r-md text-gray-400 cursor-not-allowed">
                    Next
                </span>
            {% endif %}
        </nav>
    </div>
{% endif %}